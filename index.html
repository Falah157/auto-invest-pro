<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FaithTask Pro - Islamic TV System</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Amiri:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* =============================== */
        /* OPTIMIZED & SMOOTH STYLES */
        /* =============================== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #2E7D32;
            --primary-dark: #1B5E20;
            --primary-light: #4CAF50;
            --secondary: #8E24AA;
            --accent: #FF9800;
            --light: #F5F5F5;
            --dark: #333;
            --gray: #757575;
            --radius: 12px;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            overflow-x: hidden;
            transition: all 0.3s;
        }

        /* =============================== */
        /* LOADING SCREEN */
        /* =============================== */
        #loadingScreen {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            color: white;
        }

        .loader {
            width: 50px;
            height: 50px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s linear infinite;
            margin-bottom: 20px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* =============================== */
        /* MAIN CONTAINER */
        /* =============================== */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            animation: fadeIn 0.5s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* =============================== */
        /* TV BUTTON - ALWAYS VISIBLE */
        /* =============================== */
        .tv-button-container {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 1000;
        }

        .tv-button {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            background: linear-gradient(135deg, #FF416C, #FF4B2B);
            color: white;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            box-shadow: 0 10px 30px rgba(255, 65, 108, 0.4);
            transition: all 0.3s;
            position: relative;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); box-shadow: 0 10px 30px rgba(255, 65, 108, 0.4); }
            50% { transform: scale(1.1); box-shadow: 0 15px 40px rgba(255, 65, 108, 0.6); }
            100% { transform: scale(1); box-shadow: 0 10px 30px rgba(255, 65, 108, 0.4); }
        }

        .tv-button:hover {
            transform: scale(1.15) rotate(10deg);
            background: linear-gradient(135deg, #FF4B2B, #FF416C);
        }

        .notification-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #FF0000;
            color: white;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            font-size: 0.8rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }

        /* =============================== */
        /* CINEMATIC TV SCREEN */
        /* =============================== */
        .tv-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            z-index: 9998;
            overflow: hidden;
            display: none;
        }

        .tv-screen.active {
            display: block;
            animation: tvOpen 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        .tv-screen.closing {
            animation: tvClose 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        @keyframes tvOpen {
            0% {
                clip-path: polygon(0 0, 100% 0, 100% 0, 0 0);
                opacity: 0;
            }
            100% {
                clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);
                opacity: 1;
            }
        }

        @keyframes tvClose {
            0% {
                clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);
                opacity: 1;
            }
            100% {
                clip-path: polygon(0 100%, 100% 100%, 100% 100%, 0 100%);
                opacity: 0;
            }
        }

        /* TV Corners Animation */
        .tv-corner {
            position: absolute;
            width: 100px;
            height: 100px;
            background: linear-gradient(135deg, #FF416C, #FF4B2B);
            z-index: 9999;
        }

        .corner-tl {
            top: 0;
            left: 0;
            clip-path: polygon(0 0, 0 100%, 100% 0);
            animation: cornerTL 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
        }

        .corner-tr {
            top: 0;
            right: 0;
            clip-path: polygon(100% 0, 0 0, 100% 100%);
            animation: cornerTR 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
        }

        .corner-bl {
            bottom: 0;
            left: 0;
            clip-path: polygon(0 100%, 0 0, 100% 100%);
            animation: cornerBL 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
        }

        .corner-br {
            bottom: 0;
            right: 0;
            clip-path: polygon(100% 100%, 0 100%, 100% 0);
            animation: cornerBR 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
        }

        @keyframes cornerTL {
            0% { transform: translate(-100%, -100%); }
            100% { transform: translate(0, 0); }
        }

        @keyframes cornerTR {
            0% { transform: translate(100%, -100%); }
            100% { transform: translate(0, 0); }
        }

        @keyframes cornerBL {
            0% { transform: translate(-100%, 100%); }
            100% { transform: translate(0, 0); }
        }

        @keyframes cornerBR {
            0% { transform: translate(100%, 100%); }
            100% { transform: translate(0, 0); }
        }

        /* Closing animations */
        .tv-screen.closing .corner-tl {
            animation: cornerTLClose 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
        }

        .tv-screen.closing .corner-tr {
            animation: cornerTRClose 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
        }

        .tv-screen.closing .corner-bl {
            animation: cornerBLClose 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
        }

        .tv-screen.closing .corner-br {
            animation: cornerBRClose 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
        }

        @keyframes cornerTLClose {
            0% { transform: translate(0, 0); }
            100% { transform: translate(-100%, -100%); }
        }

        @keyframes cornerTRClose {
            0% { transform: translate(0, 0); }
            100% { transform: translate(100%, -100%); }
        }

        @keyframes cornerBLClose {
            0% { transform: translate(0, 0); }
            100% { transform: translate(-100%, 100%); }
        }

        @keyframes cornerBRClose {
            0% { transform: translate(0, 0); }
            100% { transform: translate(100%, 100%); }
        }

        /* TV Content */
        .tv-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 90%;
            max-width: 1000px;
            height: 80%;
            background: #111;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.8);
            display: none;
            opacity: 0;
        }

        .tv-screen.active .tv-content {
            display: block;
            animation: contentAppear 0.8s 0.6s forwards;
        }

        @keyframes contentAppear {
            from { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
            to { opacity: 1; transform: translate(-50%, -50%) scale(1); }
        }

        /* TV Header */
        .tv-header {
            background: linear-gradient(to right, #222, #333, #222);
            padding: 20px;
            text-align: center;
            border-bottom: 2px solid var(--primary);
            position: relative;
        }

        .tv-title {
            color: white;
            font-size: 2rem;
            font-family: 'Amiri', serif;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
        }

        .tv-subtitle {
            color: #FFD700;
            font-size: 0.9rem;
            margin-top: 5px;
        }

        /* Close TV Button */
        .close-tv {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255, 0, 0, 0.8);
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.2rem;
            transition: all 0.3s;
            z-index: 10001;
        }

        .close-tv:hover {
            background: #FF0000;
            transform: rotate(90deg);
        }

        /* TV Controls */
        .tv-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            padding: 15px;
            background: #222;
            border-bottom: 1px solid #333;
        }

        .control-btn {
            background: #333;
            color: #00FF00;
            border: 2px solid #00FF00;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .control-btn:hover {
            background: #00FF00;
            color: #000;
            transform: translateY(-2px);
        }

        /* TV Messages Container */
        .tv-messages-container {
            height: calc(100% - 180px);
            overflow-y: auto;
            padding: 20px;
            background: #000;
        }

        .tv-message {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            animation: messageSlide 0.5s;
            transform-origin: top;
        }

        @keyframes messageSlide {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .message-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .message-type {
            background: var(--primary);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: bold;
        }

        .message-date {
            color: #888;
            font-size: 0.9rem;
        }

        .message-body {
            color: white;
            font-size: 1.1rem;
            line-height: 1.6;
        }

        .quran-arabic {
            font-family: 'Amiri', serif;
            font-size: 2rem;
            text-align: right;
            direction: rtl;
            color: #FFD700;
            margin-bottom: 15px;
        }

        .quran-translation {
            color: #87CEEB;
            font-style: italic;
            border-left: 3px solid #87CEEB;
            padding-left: 15px;
            margin-top: 10px;
        }

        .hadith-text {
            color: #98FB98;
            font-style: italic;
            font-size: 1.2rem;
            line-height: 1.8;
        }

        .conversation-container {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 10px;
            padding: 15px;
            margin-top: 15px;
        }

        .conversation-line {
            padding: 10px;
            margin-bottom: 8px;
            border-radius: 8px;
            animation: fadeInLeft 0.5s;
        }

        .conversation-line:nth-child(odd) {
            background: rgba(0, 255, 0, 0.1);
            border-left: 4px solid #00FF00;
        }

        .conversation-line:nth-child(even) {
            background: rgba(255, 165, 0, 0.1);
            border-left: 4px solid #FFA500;
        }

        @keyframes fadeInLeft {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .speaker {
            font-weight: bold;
            color: var(--accent);
            margin-right: 10px;
        }

        .message-source {
            color: #888;
            font-size: 0.9rem;
            margin-top: 15px;
            padding-top: 10px;
            border-top: 1px dashed rgba(255, 255, 255, 0.2);
            font-style: italic;
        }

        /* Image Message */
        .message-image {
            max-width: 100%;
            border-radius: 10px;
            margin: 15px 0;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
            animation: imageZoom 0.5s;
        }

        @keyframes imageZoom {
            from { transform: scale(0.9); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        /* Empty State */
        .empty-tv {
            text-align: center;
            padding: 60px 20px;
            color: #666;
        }

        .empty-tv i {
            font-size: 4rem;
            margin-bottom: 20px;
            color: #333;
        }

        /* =============================== */
        /* ADMIN EDITOR */
        /* =============================== */
        .admin-editor {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.9);
            z-index: 10002;
            display: none;
            align-items: center;
            justify-content: center;
        }

        .admin-editor.active {
            display: flex;
            animation: fadeIn 0.3s;
        }

        .editor-container {
            background: #222;
            width: 90%;
            max-width: 600px;
            border-radius: 20px;
            overflow: hidden;
            border: 3px solid var(--primary);
        }

        .editor-header {
            background: var(--primary);
            color: white;
            padding: 20px;
            text-align: center;
        }

        .editor-body {
            padding: 30px;
            max-height: 70vh;
            overflow-y: auto;
        }

        .form-row {
            margin-bottom: 20px;
        }

        .form-row label {
            display: block;
            margin-bottom: 8px;
            color: white;
            font-weight: 500;
        }

        .form-row select,
        .form-row input,
        .form-row textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #444;
            border-radius: 8px;
            background: #333;
            color: white;
            font-size: 1rem;
        }

        .form-row textarea {
            min-height: 120px;
            resize: vertical;
        }

        .editor-footer {
            display: flex;
            gap: 15px;
            padding: 20px;
            background: #111;
        }

        .btn {
            flex: 1;
            padding: 15px;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: #444;
            color: white;
        }

        /* =============================== */
        /* MAIN APP CONTENT */
        /* =============================== */
        .main-content {
            background: rgba(255, 255, 255, 0.95);
            border-radius: var(--radius);
            padding: 30px;
            box-shadow: var(--shadow);
            margin-top: 20px;
            animation: slideUp 0.5s;
        }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        header {
            text-align: center;
            margin-bottom: 30px;
        }

        .logo {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin-bottom: 10px;
        }

        .logo i {
            font-size: 2.5rem;
            color: var(--primary);
        }

        .logo h1 {
            font-family: 'Amiri', serif;
            color: var(--primary-dark);
            font-size: 2.2rem;
        }

        .date-display {
            margin-top: 10px;
            color: var(--gray);
            font-size: 0.9rem;
        }

        .user-info {
            position: absolute;
            top: 30px;
            right: 30px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--primary);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .admin-badge {
            background: #FF0000 !important;
        }

        /* =============================== */
        /* TASK MANAGER */
        /* =============================== */
        .tasks-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .task-card {
            background: white;
            border-radius: var(--radius);
            padding: 20px;
            box-shadow: var(--shadow);
            border: 2px solid transparent;
            transition: all 0.3s;
            cursor: pointer;
        }

        .task-card:hover {
            transform: translateY(-5px);
            border-color: var(--primary);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
        }

        .task-card.completed {
            background: #E8F5E9;
            border-color: var(--primary);
        }

        .task-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .task-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: rgba(var(--primary), 0.1);
            color: var(--primary);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }

        .task-checkbox {
            width: 24px;
            height: 24px;
            border: 2px solid #ddd;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .task-checkbox.completed {
            background: var(--primary);
            border-color: var(--primary);
            color: white;
        }

        .task-name {
            font-weight: 600;
            font-size: 1.2rem;
            color: var(--dark);
            margin-bottom: 8px;
        }

        .task-desc {
            color: var(--gray);
            font-size: 0.9rem;
            line-height: 1.5;
        }

        .task-time {
            margin-top: 15px;
            color: var(--primary);
            font-size: 0.9rem;
            font-weight: 500;
        }

        /* =============================== */
        /* NOTIFICATION */
        /* =============================== */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: white;
            padding: 15px 25px;
            border-radius: var(--radius);
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
            display: none;
            align-items: center;
            gap: 15px;
            z-index: 10003;
            animation: slideInRight 0.3s;
            border-left: 5px solid var(--primary);
        }

        .notification.active {
            display: flex;
        }

        @keyframes slideInRight {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        /* =============================== */
        /* RESPONSIVE */
        /* =============================== */
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .tv-button-container {
                bottom: 20px;
                right: 20px;
            }
            
            .tv-button {
                width: 60px;
                height: 60px;
                font-size: 1.5rem;
            }
            
            .tv-content {
                width: 95%;
                height: 85%;
            }
            
            .tv-title {
                font-size: 1.5rem;
            }
            
            .quran-arabic {
                font-size: 1.5rem;
            }
            
            .tasks-container {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div id="loadingScreen">
        <div class="loader"></div>
        <h2 style="margin-bottom: 10px;">FaithTask Pro</h2>
        <p>Loading Islamic TV System...</p>
    </div>

    <!-- TV Button - Always Visible -->
    <div class="tv-button-container">
        <button class="tv-button" id="tvButton">
            <i class="fas fa-tv"></i>
            <span class="notification-badge" id="tvNotification">0</span>
        </button>
    </div>

    <!-- Cinematic TV Screen -->
    <div class="tv-screen" id="tvScreen">
        <div class="tv-corner corner-tl"></div>
        <div class="tv-corner corner-tr"></div>
        <div class="tv-corner corner-bl"></div>
        <div class="tv-corner corner-br"></div>
        
        <button class="close-tv" id="closeTV">
            <i class="fas fa-times"></i>
        </button>
        
        <div class="tv-content">
            <div class="tv-header">
                <h1 class="tv-title">Islamic TV Channel</h1>
                <div class="tv-subtitle">Broadcasting Quran, Hadith & Islamic Knowledge</div>
            </div>
            
            <div class="tv-controls">
                <button class="control-btn" id="prevMessage">
                    <i class="fas fa-chevron-left"></i> Previous
                </button>
                <button class="control-btn" id="nextMessage">
                    Next <i class="fas fa-chevron-right"></i>
                </button>
                <button class="control-btn" id="refreshTV">
                    <i class="fas fa-sync-alt"></i> Refresh
                </button>
            </div>
            
            <div class="tv-messages-container" id="tvMessages">
                <!-- Messages will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Admin Editor -->
    <div class="admin-editor" id="adminEditor">
        <div class="editor-container">
            <div class="editor-header">
                <h2><i class="fas fa-broadcast-tower"></i> Post to Islamic TV</h2>
            </div>
            <div class="editor-body">
                <div class="form-row">
                    <label>Message Type</label>
                    <select id="messageType">
                        <option value="quran">Quran Verse</option>
                        <option value="hadith">Hadith</option>
                        <option value="conversation">Islamic Conversation</option>
                        <option value="announcement">Announcement</option>
                        <option value="image">Image with Text</option>
                    </select>
                </div>
                
                <div class="form-row">
                    <label>Title</label>
                    <input type="text" id="messageTitle" placeholder="Enter message title">
                </div>
                
                <div class="form-row" id="textContentSection">
                    <label>Content</label>
                    <textarea id="messageContent" placeholder="Enter your message..."></textarea>
                </div>
                
                <div class="form-row" id="quranSection" style="display: none;">
                    <label>Arabic Text</label>
                    <textarea id="quranArabic" placeholder="Enter Quran verse in Arabic..." style="font-family: 'Amiri', serif; font-size: 1.2rem; direction: rtl;"></textarea>
                    <label style="margin-top: 15px;">Translation</label>
                    <textarea id="quranTranslation" placeholder="Enter translation..."></textarea>
                </div>
                
                <div class="form-row" id="conversationSection" style="display: none;">
                    <label>Conversation (Format: Speaker: Message)</label>
                    <textarea id="conversationText" placeholder="Ahmed: Is prayer mentioned in Quran?
Mohamed: Yes, in many verses...
Ahmed: Show me one verse
Mohamed: Quran 2:238 says..." rows="6"></textarea>
                </div>
                
                <div class="form-row" id="imageSection" style="display: none;">
                    <label>Image URL</label>
                    <input type="text" id="imageUrl" placeholder="Enter image URL">
                    <p style="color: #888; font-size: 0.9rem; margin-top: 5px;">You can use image hosting services</p>
                </div>
                
                <div class="form-row">
                    <label>Source/Reference</label>
                    <input type="text" id="messageSource" placeholder="e.g., Quran 2:183, Sahih Bukhari">
                </div>
            </div>
            <div class="editor-footer">
                <button class="btn btn-primary" id="publishBtn">
                    <i class="fas fa-paper-plane"></i> Publish Now
                </button>
                <button class="btn btn-secondary" id="cancelBtn">
                    Cancel
                </button>
            </div>
        </div>
    </div>

    <!-- Notification -->
    <div class="notification" id="notification">
        <i class="fas fa-check-circle" style="color: #4CAF50; font-size: 1.5rem;"></i>
        <div>
            <div id="notificationTitle" style="font-weight: 600;"></div>
            <div id="notificationMessage" style="font-size: 0.9rem; color: #666;"></div>
        </div>
    </div>

    <!-- Main App Content -->
    <div class="container" id="mainContainer" style="display: none;">
        <div class="user-info">
            <div class="user-avatar" id="userAvatar">U</div>
            <div>
                <div id="userName" style="font-weight: 600;"></div>
                <div id="userRole" style="font-size: 0.8rem; color: #666;"></div>
            </div>
        </div>
        
        <header>
            <div class="logo">
                <i class="fas fa-mosque"></i>
                <h1>FaithTask Pro</h1>
            </div>
            <p style="color: #666; margin-bottom: 15px;">Islamic Task Manager with Live TV</p>
            <div class="date-display" id="currentDate"></div>
        </header>
        
        <div class="main-content">
            <div style="text-align: center; margin-bottom: 30px;">
                <button class="btn btn-primary" id="adminPostBtn" style="display: none; padding: 12px 30px;">
                    <i class="fas fa-plus-circle"></i> Post to TV
                </button>
            </div>
            
            <h2 style="color: var(--primary-dark); margin-bottom: 20px; text-align: center;">
                Today's Islamic Tasks
            </h2>
            
            <div class="tasks-container" id="tasksContainer">
                <!-- Tasks will be loaded here -->
            </div>
        </div>
    </div>

    <script>
        // ================================
        // ULTRA-FAST & OPTIMIZED APP
        // ================================

        // Lightweight Database
        const appDB = {
            currentUser: JSON.parse(localStorage.getItem('faithUser')) || null,
            tvMessages: JSON.parse(localStorage.getItem('faithTV')) || getDefaultMessages(),
            tasks: JSON.parse(localStorage.getItem('faithTasks')) || getDefaultTasks(),
            settings: JSON.parse(localStorage.getItem('faithSettings')) || { theme: 'light' }
        };

        // Current TV state
        let currentMessageIndex = 0;
        let newMessagesCount = 0;

        // Preloaded data for speed
        function getDefaultMessages() {
            return [
                {
                    id: Date.now() - 3,
                    type: 'quran',
                    title: 'Daily Quran Verse',
                    arabic: 'وَأَقِيمُوا الصَّلَاةَ وَآتُوا الزَّكَاةَ وَارْكَعُوا مَعَ الرَّاكِعِينَ',
                    translation: 'And establish prayer and give zakah and bow with those who bow [in worship and obedience].',
                    source: 'Quran 2:43',
                    date: new Date().toLocaleDateString(),
                    seen: false
                },
                {
                    id: Date.now() - 2,
                    type: 'hadith',
                    title: 'Hadith of the Day',
                    content: 'The Prophet ﷺ said: "The most beloved deeds to Allah are those done consistently, even if they are small."',
                    source: 'Sahih Bukhari',
                    date: new Date().toLocaleDateString(),
                    seen: false
                },
                {
                    id: Date.now() - 1,
                    type: 'conversation',
                    title: 'Discussion: Prayer in Quran',
                    conversation: [
                        { speaker: 'Ahmed', message: 'Brother, does Quran command 5 daily prayers?' },
                        { speaker: 'Mohamed', message: 'Yes! Allah mentions prayer over 100 times.' },
                        { speaker: 'Ahmed', message: 'Show me one clear verse.' },
                        { speaker: 'Mohamed', message: 'Quran 2:238: "Guard strictly (five obligatory) prayers..."' }
                    ],
                    source: 'Educational',
                    date: new Date().toLocaleDateString(),
                    seen: false
                }
            ];
        }

        function getDefaultTasks() {
            return [
                { id: 1, name: 'Fajr Prayer', desc: 'Morning prayer', time: 'Before sunrise', completed: false },
                { id: 2, name: 'Quran Reading', desc: 'Daily recitation', time: 'Anytime', completed: false },
                { id: 3, name: 'Charity', desc: 'Even a smile', time: 'Anytime', completed: false },
                { id: 4, name: 'Dhikr', desc: 'Morning remembrance', time: 'Morning', completed: false },
                { id: 5, name: 'Dhuhr Prayer', desc: 'Midday prayer', time: 'After noon', completed: false },
                { id: 6, name: 'Asr Prayer', desc: 'Afternoon prayer', time: 'Late afternoon', completed: false },
                { id: 7, name: 'Maghrib Prayer', desc: 'Sunset prayer', time: 'After sunset', completed: false },
                { id: 8, name: 'Isha Prayer', desc: 'Night prayer', time: 'After twilight', completed: false }
            ];
        }

        // ================================
        // 1. INITIALIZATION (ULTRA-FAST)
        // ================================
        async function initializeApp() {
            // Hide loading screen quickly
            setTimeout(() => {
                document.getElementById('loadingScreen').style.display = 'none';
                
                if (!appDB.currentUser) {
                    // Auto-login for demo
                    appDB.currentUser = {
                        username: 'user',
                        name: 'Test User',
                        role: 'user',
                        avatar: 'U'
                    };
                    localStorage.setItem('faithUser', JSON.stringify(appDB.currentUser));
                }
                
                showMainApp();
                updateTVNotification();
                updateDate();
            }, 500); // Reduced from 2000ms to 500ms
        }

        function showMainApp() {
            document.getElementById('mainContainer').style.display = 'block';
            updateUserInfo();
            renderTasks();
            setupEventListeners();
            
            // Show admin button if admin
            if (appDB.currentUser.role === 'admin') {
                document.getElementById('adminPostBtn').style.display = 'inline-block';
            }
        }

        function updateUserInfo() {
            const user = appDB.currentUser;
            document.getElementById('userName').textContent = user.name;
            document.getElementById('userRole').textContent = user.role === 'admin' ? 'Administrator' : 'User';
            document.getElementById('userAvatar').textContent = user.avatar || user.name.charAt(0).toUpperCase();
            
            if (user.role === 'admin') {
                document.getElementById('userAvatar').classList.add('admin-badge');
            }
        }

        function updateDate() {
            const now = new Date();
            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            document.getElementById('currentDate').textContent = now.toLocaleDateString('en-US', options);
        }

        // ================================
        // 2. CINEMATIC TV SYSTEM
        // ================================
        function openTV() {
            const tvScreen = document.getElementById('tvScreen');
            tvScreen.classList.remove('closing');
            tvScreen.classList.add('active');
            
            // Mark messages as seen
            appDB.tvMessages.forEach(msg => msg.seen = true);
            localStorage.setItem('faithTV', JSON.stringify(appDB.tvMessages));
            
            // Reset notification
            newMessagesCount = 0;
            updateTVNotification();
            
            // Load messages
            setTimeout(() => {
                renderTVMessages();
            }, 800);
        }

        function closeTV() {
            const tvScreen = document.getElementById('tvScreen');
            tvScreen.classList.remove('active');
            tvScreen.classList.add('closing');
            
            setTimeout(() => {
                tvScreen.classList.remove('closing');
            }, 800);
        }

        function renderTVMessages() {
            const container = document.getElementById('tvMessages');
            
            if (!appDB.tvMessages.length) {
                container.innerHTML = `
                    <div class="empty-tv">
                        <i class="fas fa-tv"></i>
                        <h3>No Messages Yet</h3>
                        <p>Admin will post Islamic content soon</p>
                    </div>
                `;
                return;
            }
            
            const msg = appDB.tvMessages[currentMessageIndex];
            let messageHTML = '';
            
            switch(msg.type) {
                case 'quran':
                    messageHTML = `
                        <div class="tv-message">
                            <div class="message-header">
                                <span class="message-type">QURAN VERSE</span>
                                <span class="message-date">${msg.date}</span>
                            </div>
                            <div class="message-body">
                                <div class="quran-arabic">${msg.arabic || msg.content}</div>
                                ${msg.translation ? `<div class="quran-translation">${msg.translation}</div>` : ''}
                            </div>
                            ${msg.source ? `<div class="message-source">${msg.source}</div>` : ''}
                        </div>
                    `;
                    break;
                    
                case 'hadith':
                    messageHTML = `
                        <div class="tv-message">
                            <div class="message-header">
                                <span class="message-type">HADITH</span>
                                <span class="message-date">${msg.date}</span>
                            </div>
                            <div class="message-body">
                                <div class="hadith-text">${msg.content}</div>
                            </div>
                            ${msg.source ? `<div class="message-source">${msg.source}</div>` : ''}
                        </div>
                    `;
                    break;
                    
                case 'conversation':
                    const conversationHTML = Array.isArray(msg.conversation) 
                        ? msg.conversation.map(line => `
                            <div class="conversation-line">
                                <span class="speaker">${line.speaker}:</span>
                                ${line.message}
                            </div>
                        `).join('')
                        : msg.content;
                    
                    messageHTML = `
                        <div class="tv-message">
                            <div class="message-header">
                                <span class="message-type">ISLAMIC DISCUSSION</span>
                                <span class="message-date">${msg.date}</span>
                            </div>
                            <div class="message-body">
                                <div class="conversation-container">${conversationHTML}</div>
                            </div>
                            ${msg.source ? `<div class="message-source">${msg.source}</div>` : ''}
                        </div>
                    `;
                    break;
                    
                case 'image':
                    messageHTML = `
                        <div class="tv-message">
                            <div class="message-header">
                                <span class="message-type">ISLAMIC IMAGE</span>
                                <span class="message-date">${msg.date}</span>
                            </div>
                            <div class="message-body">
                                <img src="${msg.imageUrl}" alt="${msg.title}" class="message-image" onerror="this.style.display='none'">
                                <p style="margin-top: 15px;">${msg.content}</p>
                            </div>
                            ${msg.source ? `<div class="message-source">${msg.source}</div>` : ''}
                        </div>
                    `;
                    break;
                    
                default:
                    messageHTML = `
                        <div class="tv-message">
                            <div class="message-header">
                                <span class="message-type">${msg.type.toUpperCase()}</span>
                                <span class="message-date">${msg.date}</span>
                            </div>
                            <div class="message-body">
                                <h3 style="margin-bottom: 15px; color: var(--accent);">${msg.title}</h3>
                                <p>${msg.content}</p>
                            </div>
                            ${msg.source ? `<div class="message-source">${msg.source}</div>` : ''}
                        </div>
                    `;
            }
            
            container.innerHTML = messageHTML;
        }

        function nextMessage() {
            currentMessageIndex = (currentMessageIndex + 1) % appDB.tvMessages.length;
            renderTVMessages();
        }

        function prevMessage() {
            currentMessageIndex = (currentMessageIndex - 1 + appDB.tvMessages.length) % appDB.tvMessages.length;
            renderTVMessages();
        }

        function updateTVNotification() {
            const badge = document.getElementById('tvNotification');
            if (newMessagesCount > 0) {
                badge.textContent = newMessagesCount;
                badge.style.display = 'flex';
            } else {
                badge.style.display = 'none';
            }
        }

        // ================================
        // 3. ADMIN TV EDITOR
        // ================================
        function openAdminEditor() {
            if (appDB.currentUser.role !== 'admin') {
                showNotification('Access Denied', 'Only admins can post to TV');
                return;
            }
            
            document.getElementById('adminEditor').classList.add('active');
            document.getElementById('messageType').value = 'quran';
            document.getElementById('messageTitle').value = '';
            document.getElementById('messageContent').value = '';
            document.getElementById('quranArabic').value = '';
            document.getElementById('quranTranslation').value = '';
            document.getElementById('conversationText').value = '';
            document.getElementById('imageUrl').value = '';
            document.getElementById('messageSource').value = '';
            
            showSection('textContentSection');
        }

        function closeAdminEditor() {
            document.getElementById('adminEditor').classList.remove('active');
        }

        function showSection(sectionId) {
            // Hide all sections
            ['textContentSection', 'quranSection', 'conversationSection', 'imageSection'].forEach(id => {
                document.getElementById(id).style.display = 'none';
            });
            
            // Show selected section
            document.getElementById(sectionId).style.display = 'block';
        }

        function publishMessage() {
            const type = document.getElementById('messageType').value;
            const title = document.getElementById('messageTitle').value.trim();
            const source = document.getElementById('messageSource').value.trim();
            
            if (!title) {
                showNotification('Error', 'Please enter a title');
                return;
            }
            
            const newMessage = {
                id: Date.now(),
                type: type,
                title: title,
                date: new Date().toLocaleDateString(),
                source: source || 'Admin',
                seen: false
            };
            
            // Add content based on type
            switch(type) {
                case 'quran':
                    const arabic = document.getElementById('quranArabic').value.trim();
                    const translation = document.getElementById('quranTranslation').value.trim();
                    if (!arabic) {
                        showNotification('Error', 'Please enter Quran Arabic text');
                        return;
                    }
                    newMessage.arabic = arabic;
                    newMessage.translation = translation;
                    newMessage.content = arabic;
                    break;
                    
                case 'conversation':
                    const convoText = document.getElementById('conversationText').value.trim();
                    if (!convoText) {
                        showNotification('Error', 'Please enter conversation');
                        return;
                    }
                    // Parse conversation lines
                    const lines = convoText.split('\n').filter(l => l.trim());
                    newMessage.conversation = lines.map(line => {
                        const parts = line.split(':');
                        return {
                            speaker: parts[0].trim(),
                            message: parts.slice(1).join(':').trim()
                        };
                    });
                    newMessage.content = convoText;
                    break;
                    
                case 'image':
                    const imageUrl = document.getElementById('imageUrl').value.trim();
                    const content = document.getElementById('messageContent').value.trim();
                    if (!imageUrl && !content) {
                        showNotification('Error', 'Please enter image URL or content');
                        return;
                    }
                    if (imageUrl) newMessage.imageUrl = imageUrl;
                    if (content) newMessage.content = content;
                    break;
                    
                default:
                    const contentText = document.getElementById('messageContent').value.trim();
                    if (!contentText) {
                        showNotification('Error', 'Please enter message content');
                        return;
                    }
                    newMessage.content = contentText;
            }
            
            // Add to beginning of messages
            appDB.tvMessages.unshift(newMessage);
            localStorage.setItem('faithTV', JSON.stringify(appDB.tvMessages));
            
            // Update notification
            newMessagesCount++;
            updateTVNotification();
            
            // Close editor
            closeAdminEditor();
            
            // Show success
            showNotification('Published!', 'Message added to Islamic TV');
            
            // If TV is open, refresh
            if (document.getElementById('tvScreen').classList.contains('active')) {
                currentMessageIndex = 0;
                renderTVMessages();
            }
        }

        // ================================
        // 4. TASK MANAGER (OPTIMIZED)
        // ================================
        function renderTasks() {
            const container = document.getElementById('tasksContainer');
            
            container.innerHTML = appDB.tasks.map(task => `
                <div class="task-card ${task.completed ? 'completed' : ''}" data-id="${task.id}">
                    <div class="task-header">
                        <div class="task-icon">
                            <i class="fas fa-${getTaskIcon(task.name)}"></i>
                        </div>
                        <div class="task-checkbox ${task.completed ? 'completed' : ''}">
                            ${task.completed ? '<i class="fas fa-check"></i>' : ''}
                        </div>
                    </div>
                    <div class="task-name">${task.name}</div>
                    <div class="task-desc">${task.desc}</div>
                    <div class="task-time">${task.time}</div>
                </div>
            `).join('');
            
            // Add click listeners
            container.querySelectorAll('.task-card').forEach(card => {
                card.addEventListener('click', (e) => {
                    if (!e.target.closest('.task-checkbox')) {
                        const taskId = parseInt(card.dataset.id);
                        toggleTask(taskId);
                    }
                });
            });
        }

        function getTaskIcon(taskName) {
            const icons = {
                'prayer': 'pray',
                'quran': 'book-quran',
                'charity': 'hand-holding-heart',
                'dhikr': 'dharmachakra',
                'fasting': 'cloud-sun'
            };
            
            const lowerName = taskName.toLowerCase();
            for (const [key, icon] of Object.entries(icons)) {
                if (lowerName.includes(key)) return icon;
            }
            return 'tasks';
        }

        function toggleTask(taskId) {
            const task = appDB.tasks.find(t => t.id === taskId);
            if (task) {
                task.completed = !task.completed;
                localStorage.setItem('faithTasks', JSON.stringify(appDB.tasks));
                renderTasks();
                
                if (task.completed) {
                    showTaskNotification(task);
                }
            }
        }

        function showTaskNotification(task) {
            const messages = [
                `MashaAllah! ${task.name} completed.`,
                `Allah loves consistency in good deeds.`,
                `May Allah accept your ibadah.`
            ];
            
            const randomMsg = messages[Math.floor(Math.random() * messages.length)];
            showNotification('Task Completed', randomMsg);
        }

        // ================================
        // 5. NOTIFICATION SYSTEM
        // ================================
        function showNotification(title, message) {
            const notif = document.getElementById('notification');
            document.getElementById('notificationTitle').textContent = title;
            document.getElementById('notificationMessage').textContent = message;
            
            notif.classList.add('active');
            
            setTimeout(() => {
                notif.classList.remove('active');
            }, 3000);
        }

        // ================================
        // 6. EVENT LISTENERS (SETUP ONCE)
        // ================================
        function setupEventListeners() {
            // TV Button
            document.getElementById('tvButton').addEventListener('click', openTV);
            
            // TV Controls
            document.getElementById('closeTV').addEventListener('click', closeTV);
            document.getElementById('prevMessage').addEventListener('click', prevMessage);
            document.getElementById('nextMessage').addEventListener('click', nextMessage);
            document.getElementById('refreshTV').addEventListener('click', () => {
                currentMessageIndex = 0;
                renderTVMessages();
                showNotification('TV Refreshed', 'Messages reloaded');
            });
            
            // Admin Post Button
            document.getElementById('adminPostBtn').addEventListener('click', openAdminEditor);
            
            // Editor Events
            document.getElementById('messageType').addEventListener('change', (e) => {
                const type = e.target.value;
                if (type === 'quran') showSection('quranSection');
                else if (type === 'conversation') showSection('conversationSection');
                else if (type === 'image') showSection('imageSection');
                else showSection('textContentSection');
            });
            
            document.getElementById('publishBtn').addEventListener('click', publishMessage);
            document.getElementById('cancelBtn').addEventListener('click', closeAdminEditor);
            
            // Keyboard shortcuts
            document.addEventListener('keydown', (e) => {
                // Escape closes TV
                if (e.key === 'Escape' && document.getElementById('tvScreen').classList.contains('active')) {
                    closeTV();
                }
                // Left/Right arrow for TV navigation
                if (document.getElementById('tvScreen').classList.contains('active')) {
                    if (e.key === 'ArrowRight') nextMessage();
                    if (e.key === 'ArrowLeft') prevMessage();
                }
            });
            
            // Auto-check for new messages every 30 seconds
            setInterval(() => {
                // In real app, this would check server for updates
                console.log('Checking for updates...');
            }, 30000);
        }

        // ================================
        // 7. INITIALIZE APP
        // ================================
        document.addEventListener('DOMContentLoaded', initializeApp);

        // Debug info
        console.log('FaithTask Pro - Ultra Fast Version Loaded');
        console.log('TV System: Cinematic corners animation');
        console.log('Auto-login enabled for demo');
        console.log('Press TV button to open cinematic TV');
    </script>
</body>
</html>
