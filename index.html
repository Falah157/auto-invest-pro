<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Knowledge Assistant - Quran, Science, Coding & More</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary: #00f3ff;
            --secondary: #ff00ff;
            --accent: #00ff88;
            --danger: #ff0066;
            --warning: #ffcc00;
            --bg-dark: #0a0a1a;
            --card-bg: #1a1a2e;
            --table-header: #2a2a3e;
            --table-row: #1e1e2e;
            --table-alt: #252538;
        }

        body {
            background: var(--bg-dark);
            color: white;
            min-height: 100vh;
            overflow-x: hidden;
            padding-bottom: 70px;
        }

        .container {
            max-width: 100%;
            margin: 0 auto;
            padding: 15px;
        }

        .header {
            text-align: center;
            margin-bottom: 20px;
            padding: 15px;
            background: var(--card-bg);
            border-radius: 12px;
            border: 2px solid var(--primary);
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--primary), var(--secondary), var(--accent));
            animation: pulse 3s infinite;
        }

        @keyframes pulse {
            0% { opacity: 0.7; }
            50% { opacity: 1; }
            100% { opacity: 0.7; }
        }

        .logo {
            font-size: 1.8em;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 5px;
            text-shadow: 0 0 10px rgba(0, 243, 255, 0.5);
            font-weight: bold;
        }

        .tagline {
            color: #aaa;
            font-size: 0.9em;
        }

        /* Knowledge Cards */
        .knowledge-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-bottom: 15px;
        }

        .knowledge-card {
            background: var(--card-bg);
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #333;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .knowledge-card:active {
            transform: scale(0.98);
            border-color: var(--primary);
        }

        .knowledge-card.quran {
            border-color: var(--accent);
        }

        .knowledge-card.science {
            border-color: var(--primary);
        }

        .knowledge-card.coding {
            border-color: var(--secondary);
        }

        .knowledge-card.languages {
            border-color: var(--warning);
        }

        .knowledge-icon {
            font-size: 2em;
            margin-bottom: 10px;
        }

        .knowledge-label {
            color: #aaa;
            font-size: 0.8em;
        }

        /* Chat Interface */
        .chat-container {
            background: var(--card-bg);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            height: 300px;
            overflow-y: auto;
            border: 1px solid #333;
        }

        .message {
            margin-bottom: 15px;
            padding: 10px;
            border-radius: 8px;
            max-width: 80%;
        }

        .user-message {
            background: rgba(0, 243, 255, 0.2);
            border-left: 3px solid var(--primary);
            margin-left: auto;
        }

        .ai-message {
            background: rgba(0, 255, 136, 0.2);
            border-left: 3px solid var(--accent);
            margin-right: auto;
        }

        .message-sender {
            font-weight: bold;
            margin-bottom: 5px;
            font-size: 0.8em;
            color: #ccc;
        }

        .message-content {
            font-size: 0.9em;
        }

        /* Input Area */
        .input-area {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        .input-area input {
            flex: 1;
            padding: 12px;
            border-radius: 8px;
            border: 1px solid #333;
            background: #2a2a3e;
            color: white;
            font-size: 1em;
        }

        .input-area button {
            padding: 12px 20px;
            border-radius: 8px;
            border: none;
            background: linear-gradient(90deg, var(--primary), #0099cc);
            color: white;
            cursor: pointer;
            font-weight: bold;
        }

        /* Quick Questions */
        .quick-questions {
            display: grid;
            grid-template-columns: 1fr;
            gap: 8px;
            margin-bottom: 15px;
        }

        .quick-question {
            padding: 10px;
            background: #2a2a3e;
            border-radius: 8px;
            border: 1px solid #333;
            text-align: left;
            cursor: pointer;
            font-size: 0.85em;
            transition: all 0.3s;
        }

        .quick-question:active {
            background: rgba(0, 243, 255, 0.2);
            border-color: var(--primary);
        }

        /* Cards */
        .card {
            background: var(--card-bg);
            padding: 15px;
            border-radius: 10px;
            border: 1px solid #333;
            margin-bottom: 15px;
        }

        .card h3 {
            color: var(--primary);
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
            border-bottom: 1px solid #333;
            padding-bottom: 8px;
            font-size: 1.1em;
        }

        /* Mobile Tabs */
        .mobile-tabs {
            display: flex;
            margin-bottom: 15px;
            background: var(--card-bg);
            border-radius: 10px;
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
            padding: 5px;
        }

        .mobile-tab {
            padding: 12px 15px;
            white-space: nowrap;
            cursor: pointer;
            transition: all 0.3s;
            border-radius: 8px;
            margin: 0 2px;
            flex: 1;
            text-align: center;
            font-size: 0.85em;
        }

        .mobile-tab.active {
            background: rgba(0, 243, 255, 0.2);
            border: 1px solid var(--primary);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* Knowledge Base */
        .knowledge-base {
            display: grid;
            grid-template-columns: 1fr;
            gap: 10px;
        }

        .topic-section {
            background: #2a2a3e;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid var(--primary);
        }

        .topic-section.quran {
            border-left-color: var(--accent);
        }

        .topic-section.science {
            border-left-color: var(--primary);
        }

        .topic-section.coding {
            border-left-color: var(--secondary);
        }

        .topic-section.languages {
            border-left-color: var(--warning);
        }

        .topic-title {
            font-weight: bold;
            margin-bottom: 8px;
            color: var(--primary);
        }

        .topic-content {
            font-size: 0.85em;
            color: #ccc;
            line-height: 1.4;
        }

        button {
            background: linear-gradient(90deg, var(--primary), #0099cc);
            color: white;
            border: none;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
            margin-top: 5px;
            padding: 12px;
            border-radius: 8px;
            width: 100%;
        }

        button:active {
            transform: scale(0.98);
        }

        .btn-success {
            background: linear-gradient(90deg, var(--accent), #00cc66);
        }

        .btn-warning {
            background: linear-gradient(90deg, var(--warning), #cc9900);
        }

        .btn-danger {
            background: linear-gradient(90deg, var(--danger), #cc0000);
        }

        /* Bottom Navigation */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--card-bg);
            display: flex;
            padding: 10px;
            border-top: 2px solid var(--primary);
            z-index: 100;
        }

        .nav-item {
            flex: 1;
            text-align: center;
            padding: 8px 5px;
            color: #aaa;
            font-size: 0.75em;
            transition: all 0.3s;
        }

        .nav-item.active {
            color: var(--primary);
        }

        .nav-icon {
            font-size: 1.4em;
            margin-bottom: 3px;
        }

        /* Responsive */
        @media (max-width: 380px) {
            .knowledge-grid {
                grid-template-columns: 1fr;
            }
            
            .mobile-tab {
                padding: 10px 12px;
                font-size: 0.8em;
            }
        }
    </style>
</head>
<body>
    <!-- Login Screen -->
    <div class="login-screen" id="loginScreen">
        <div class="login-card" style="background: var(--card-bg); padding: 30px; border-radius: 15px; border: 2px solid var(--primary); width: 100%; max-width: 400px; text-align: center; margin: 20px;">
            <div class="login-logo" style="font-size: 2.5em; background: linear-gradient(90deg, var(--primary), var(--secondary)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 20px;">AI KNOWLEDGE</div>
            <h3>Access Knowledge Assistant</h3>
            
            <div style="margin-bottom: 15px;">
                <label style="display: block; margin-bottom: 5px; color: #ccc;">Email</label>
                <input type="email" id="loginEmail" placeholder="user@knowledge.com" value="user@knowledge.com" style="width: 100%; padding: 12px; border-radius: 8px; border: 1px solid #333; background: #2a2a3e; color: white;">
            </div>
            
            <div style="margin-bottom: 15px;">
                <label style="display: block; margin-bottom: 5px; color: #ccc;">Password</label>
                <input type="password" id="loginPassword" placeholder="Enter password" value="password" style="width: 100%; padding: 12px; border-radius: 8px; border: 1px solid #333; background: #2a2a3e; color: white;">
            </div>
            
            <button class="btn-success" onclick="login()" style="background: linear-gradient(90deg, var(--accent), #00cc66); color: white; border: none; padding: 12px; border-radius: 8px; width: 100%; cursor: pointer;">
                <i class="fas fa-sign-in-alt"></i> Access Knowledge
            </button>
            
            <div style="padding: 10px; border-radius: 5px; margin: 10px 0; text-align: center; background: rgba(0, 243, 255, 0.2); border: 1px solid var(--primary);">
                <i class="fas fa-info-circle"></i> Demo: user@knowledge.com / password
            </div>
        </div>
    </div>

    <!-- Main AI Knowledge Application -->
    <div class="main-app" id="mainApp" style="display: none;">
        <div class="container">
            <div class="header">
                <div class="logo">AI KNOWLEDGE ASSISTANT</div>
                <p class="tagline" id="userGreeting">Quran, Science, Coding, Languages & More</p>
                <div style="display: flex; gap: 10px; justify-content: center; margin-top: 10px;">
                    <button class="btn-danger" onclick="clearChat()" style="padding: 8px 12px; width: auto;">
                        <i class="fas fa-trash"></i> Clear Chat
                    </button>
                    <button class="btn-danger" onclick="logout()" style="padding: 8px 12px; width: auto;">
                        <i class="fas fa-sign-out-alt"></i> Logout
                    </button>
                </div>
            </div>

            <!-- Knowledge Quick Access -->
            <div class="knowledge-grid">
                <div class="knowledge-card quran" onclick="askQuestion('quran')">
                    <div class="knowledge-icon"><i class="fas fa-book-quran"></i></div>
                    <div class="knowledge-value" style="font-size: 1.1em; font-weight: bold; margin: 5px 0;">Quran & Islam</div>
                    <div class="knowledge-label">Islamic Knowledge</div>
                </div>
                <div class="knowledge-card science" onclick="askQuestion('science')">
                    <div class="knowledge-icon"><i class="fas fa-atom"></i></div>
                    <div class="knowledge-value" style="font-size: 1.1em; font-weight: bold; margin: 5px 0;">Science</div>
                    <div class="knowledge-label">Physics, Biology, Math</div>
                </div>
                <div class="knowledge-card coding" onclick="askQuestion('coding')">
                    <div class="knowledge-icon"><i class="fas fa-code"></i></div>
                    <div class="knowledge-value" style="font-size: 1.1em; font-weight: bold; margin: 5px 0;">Coding</div>
                    <div class="knowledge-label">Python, Java, Programming</div>
                </div>
                <div class="knowledge-card languages" onclick="askQuestion('languages')">
                    <div class="knowledge-icon"><i class="fas fa-language"></i></div>
                    <div class="knowledge-value" style="font-size: 1.1em; font-weight: bold; margin: 5px 0;">Languages</div>
                    <div class="knowledge-label">Arabic, English, Dhivehi</div>
                </div>
            </div>

            <!-- Mobile Tabs -->
            <div class="mobile-tabs">
                <div class="mobile-tab active" onclick="switchTab('chat')">
                    <i class="fas fa-robot"></i><br>AI Chat
                </div>
                <div class="mobile-tab" onclick="switchTab('knowledge')">
                    <i class="fas fa-graduation-cap"></i><br>Knowledge Base
                </div>
                <div class="mobile-tab" onclick="switchTab('quran')">
                    <i class="fas fa-book-quran"></i><br>Quran
                </div>
                <div class="mobile-tab" onclick="switchTab('coding')">
                    <i class="fas fa-code"></i><br>Coding
                </div>
                <div class="mobile-tab" onclick="switchTab('languages')">
                    <i class="fas fa-language"></i><br>Languages
                </div>
            </div>

            <!-- Chat Tab -->
            <div id="chat" class="tab-content active">
                <div class="card">
                    <h3><i class="fas fa-robot"></i> AI Knowledge Assistant</h3>
                    <div class="chat-container" id="chatContainer">
                        <div class="message ai-message">
                            <div class="message-sender">AI Assistant</div>
                            <div class="message-content">Assalamu Alaikum! I'm your AI Knowledge Assistant. I can help you with Quran, Science, Coding, Languages, and many other topics. What would you like to learn today?</div>
                        </div>
                    </div>
                    
                    <div class="quick-questions">
                        <div class="quick-question" onclick="askQuickQuestion('What is Python programming?')">What is Python programming?</div>
                        <div class="quick-question" onclick="askQuickQuestion('Tell me about Quran')">Tell me about Quran</div>
                        <div class="quick-question" onclick="askQuickQuestion('Explain physics basics')">Explain physics basics</div>
                        <div class="quick-question" onclick="askQuickQuestion('Teach me Arabic greetings')">Teach me Arabic greetings</div>
                        <div class="quick-question" onclick="askQuickQuestion('What is Dhivehi language?')">What is Dhivehi language?</div>
                    </div>
                    
                    <div class="input-area">
                        <input type="text" id="userInput" placeholder="Ask me anything about Quran, Science, Coding, Languages..." onkeypress="handleKeyPress(event)">
                        <button onclick="sendMessage()"><i class="fas fa-paper-plane"></i></button>
                    </div>
                </div>
            </div>

            <!-- Knowledge Base Tab -->
            <div id="knowledge" class="tab-content">
                <div class="card">
                    <h3><i class="fas fa-graduation-cap"></i> Knowledge Topics</h3>
                    <div class="knowledge-base">
                        <div class="topic-section quran">
                            <div class="topic-title"><i class="fas fa-book-quran"></i> Quran & Islamic Studies</div>
                            <div class="topic-content">
                                The Quran is the holy book of Islam, revealed to Prophet Muhammad (PBUH). It contains guidance for all humanity covering faith, morality, law, and wisdom.
                            </div>
                            <button onclick="askQuestion('quran basics')" style="margin-top: 10px;">Learn More</button>
                        </div>
                        
                        <div class="topic-section science">
                            <div class="topic-title"><i class="fas fa-atom"></i> Science & Technology</div>
                            <div class="topic-content">
                                Physics studies matter and energy. Biology studies living organisms. Mathematics is the language of patterns. Technology applies scientific knowledge.
                            </div>
                            <button onclick="askQuestion('science overview')" style="margin-top: 10px;">Explore Science</button>
                        </div>
                        
                        <div class="topic-section coding">
                            <div class="topic-title"><i class="fas fa-code"></i> Programming & Coding</div>
                            <div class="topic-content">
                                Python is great for beginners. Java for enterprise applications. JavaScript for web development. Learn algorithms, data structures, and problem-solving.
                            </div>
                            <button onclick="askQuestion('coding introduction')" style="margin-top: 10px;">Start Coding</button>
                        </div>
                        
                        <div class="topic-section languages">
                            <div class="topic-title"><i class="fas fa-language"></i> Languages</div>
                            <div class="topic-content">
                                Arabic: Language of Quran. English: Global communication. Dhivehi: Language of Maldives. Learn grammar, vocabulary, and cultural context.
                            </div>
                            <button onclick="askQuestion('languages learning')" style="margin-top: 10px;">Learn Languages</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Quran Tab -->
            <div id="quran" class="tab-content">
                <div class="card">
                    <h3><i class="fas fa-book-quran"></i> Quranic Knowledge</h3>
                    <div class="knowledge-base">
                        <div class="topic-section">
                            <div class="topic-title">The Holy Quran</div>
                            <div class="topic-content">
                                The Quran is the literal word of God revealed to Prophet Muhammad (PBUH) over 23 years. It contains 114 chapters (surahs) with guidance for all aspects of life.
                            </div>
                            <button onclick="askQuestion('quran introduction')">Ask About Quran</button>
                        </div>
                        
                        <div class="topic-section">
                            <div class="topic-title">Five Pillars of Islam</div>
                            <div class="topic-content">
                                1. Shahada (Faith) - Declaration of belief in one God<br>
                                2. Salah (Prayer) - Five daily prayers<br>
                                3. Zakat (Charity) - Giving to those in need<br>
                                4. Sawm (Fasting) - Ramadan fasting<br>
                                5. Hajj (Pilgrimage) - Journey to Mecca
                            </div>
                            <button onclick="askQuestion('islam pillars')">Learn More</button>
                        </div>
                        
                        <div class="topic-section">
                            <div class="topic-title">Islamic Values</div>
                            <div class="topic-content">
                                Key Islamic values include compassion, justice, honesty, patience, gratitude, and seeking knowledge. The Quran emphasizes the importance of education and learning.
                            </div>
                            <button onclick="askQuestion('islamic values')">Explore Values</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Coding Tab -->
            <div id="coding" class="tab-content">
                <div class="card">
                    <h3><i class="fas fa-code"></i> Programming & Development</h3>
                    <div class="knowledge-base">
                        <div class="topic-section">
                            <div class="topic-title">Python Programming</div>
                            <div class="topic-content">
                                Python is a high-level programming language known for its simplicity and readability. It's great for beginners and used in web development, data science, AI, and automation.
                            </div>
                            <button onclick="askQuestion('python programming')">Learn Python</button>
                        </div>
                        
                        <div class="topic-section">
                            <div class="topic-title">Java Development</div>
                            <div class="topic-content">
                                Java is an object-oriented programming language used for enterprise applications, Android development, and large-scale systems. It follows "write once, run anywhere" principle.
                            </div>
                            <button onclick="askQuestion('java programming')">Learn Java</button>
                        </div>
                        
                        <div class="topic-section">
                            <div class="topic-title">Web Development</div>
                            <div class="topic-content">
                                Web development involves HTML, CSS, and JavaScript. Front-end deals with user interface, back-end handles server logic, and full-stack covers both areas.
                            </div>
                            <button onclick="askQuestion('web development')">Learn Web Dev</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Languages Tab -->
            <div id="languages" class="tab-content">
                <div class="card">
                    <h3><i class="fas fa-language"></i> Language Learning</h3>
                    <div class="knowledge-base">
                        <div class="topic-section">
                            <div class="topic-title">Arabic Language</div>
                            <div class="topic-content">
                                Arabic is a Semitic language written from right to left. It's the language of the Quran and spoken by over 400 million people. Key features include root-based word formation.
                            </div>
                            <button onclick="askQuestion('learn arabic')">Learn Arabic</button>
                        </div>
                        
                        <div class="topic-section">
                            <div class="topic-title">English Language</div>
                            <div class="topic-content">
                                English is a global lingua franca used in business, science, and international communication. It has Germanic roots with extensive vocabulary from Latin and French.
                            </div>
                            <button onclick="askQuestion('learn english')">Learn English</button>
                        </div>
                        
                        <div class="topic-section">
                            <div class="topic-title">Dhivehi Language</div>
                            <div class="topic-content">
                                Dhivehi is the official language of Maldives with its own unique script called Thaana. It shows influences from Arabic, Hindi, Sinhalese, and English.
                            </div>
                            <button onclick="askQuestion('learn dhivehi')">Learn Dhivehi</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Bottom Navigation -->
        <div class="bottom-nav">
            <div class="nav-item active" onclick="switchTab('chat')">
                <div class="nav-icon"><i class="fas fa-robot"></i></div>
                <div>AI Chat</div>
            </div>
            <div class="nav-item" onclick="switchTab('knowledge')">
                <div class="nav-icon"><i class="fas fa-graduation-cap"></i></div>
                <div>Knowledge</div>
            </div>
            <div class="nav-item" onclick="switchTab('quran')">
                <div class="nav-icon"><i class="fas fa-book-quran"></i></div>
                <div>Quran</div>
            </div>
            <div class="nav-item" onclick="switchTab('coding')">
                <div class="nav-icon"><i class="fas fa-code"></i></div>
                <div>Coding</div>
            </div>
            <div class="nav-item" onclick="switchTab('languages')">
                <div class="nav-icon"><i class="fas fa-language"></i></div>
                <div>Languages</div>
            </div>
        </div>
    </div>

    <script>
        // Knowledge database
        const knowledgeBase = {
            // Quran & Islam
            'quran': 'The Quran is the holy book of Islam, revealed to Prophet Muhammad (PBUH) over 23 years. It contains 114 chapters (surahs) providing guidance for all aspects of life including faith, morality, law, and wisdom.',
            'islam': 'Islam is a monotheistic religion teaching belief in one God (Allah). The Five Pillars are: Shahada (declaration of faith), Salah (prayer), Zakat (charity), Sawm (fasting), and Hajj (pilgrimage).',
            'salah': 'Salah is the Islamic prayer performed five times daily facing the Kaaba in Mecca. It includes recitations from Quran and physical movements that demonstrate submission to God.',
            
            // Programming
            'python': 'Python is a high-level programming language known for its simplicity and readability. It is great for beginners and widely used in web development, data science, artificial intelligence, machine learning, and automation.',
            'java': 'Java is an object-oriented programming language used for enterprise applications, Android development, and large-scale systems. It follows the "write once, run anywhere" principle using the Java Virtual Machine.',
            'javascript': 'JavaScript is a programming language primarily used for web development to create interactive websites. It runs in web browsers and can also be used on the server-side with Node.js.',
            'coding': 'Coding is the process of writing instructions for computers using programming languages. It involves problem-solving, algorithms, data structures, and logical thinking to create software applications.',
            
            // Sciences
            'physics': 'Physics is the natural science that studies matter, energy, motion, and forces through space and time. Key areas include mechanics, thermodynamics, electromagnetism, and quantum physics.',
            'biology': 'Biology is the science of life and living organisms. It studies cells, genetics, evolution, ecosystems, and all forms of life from microscopic bacteria to complex human systems.',
            'math': 'Mathematics is the study of numbers, quantities, shapes, patterns, and their relationships. Main branches include algebra, geometry, calculus, statistics, and number theory.',
            
            // Languages
            'arabic': 'Arabic is a Semitic language written from right to left. It is the language of the Quran and spoken by over 400 million people across the Arab world. Arabic has a rich literary tradition and complex grammar system.',
            'dhivehi': 'Dhivehi is the official language of Maldives. It has its own unique script called Thaana and shows influences from Arabic, Hindi, Sinhalese, and English. Dhivehi is spoken by about 400,000 people.',
            'english': 'English is a global lingua franca originating from England. It is used worldwide for business, science, technology, and international communication. English has extensive vocabulary from Latin, French, and Germanic roots.',
            
            // Technology
            'ai': 'Artificial Intelligence (AI) involves creating computer systems that can perform tasks normally requiring human intelligence, like learning, reasoning, problem-solving, perception, and language understanding.',
            'technology': 'Technology refers to the application of scientific knowledge for practical purposes, especially in industry. It includes computers, software, networks, and digital systems that transform how we live and work.'
        };

        // Enhanced responses for common questions
        const detailedResponses = {
            'what is python': 'Python is a high-level, interpreted programming language known for its clear syntax and readability. It supports multiple programming paradigms including object-oriented, imperative, and functional programming. Python has a comprehensive standard library and is used in web development (Django, Flask), data science (Pandas, NumPy), artificial intelligence (TensorFlow, PyTorch), automation, and scientific computing.',
            
            'tell me about quran': 'The Quran is the central religious text of Islam, believed by Muslims to be a revelation from God (Allah). It was revealed to Prophet Muhammad (PBUH) through the angel Gabriel over 23 years. The Quran is divided into 114 chapters (surahs) which are further divided into verses (ayahs). It covers various themes including the oneness of God, morality, law, stories of previous prophets, and the afterlife. The Quran is written in classical Arabic and is considered the literal word of God in Islam.',
            
            'explain physics': 'Physics is the fundamental science that studies matter, energy, and their interactions. Key branches include: 1) Mechanics - motion and forces, 2) Thermodynamics - heat and temperature, 3) Electromagnetism - electricity and magnetism, 4) Optics - light and vision, 5) Quantum mechanics - atomic and subatomic particles, and 6) Relativity - space, time and gravity. Physics helps us understand everything from the smallest particles to the entire universe.',
            
            'teach me arabic': 'Arabic basics: Common greetings - "As-salamu alaykum" (Peace be upon you), "Marhaba" (Hello). Basic phrases - "Shukran" (Thank you), "Afwan" (You are welcome), "Naam" (Yes), "La" (No). Arabic is written right to left and has 28 letters. The language is based on root words, usually three consonants, that form related words. For example, K-T-B relates to writing: kitab (book), maktab (office), katib (writer).',
            
            'what is dhivehi': 'Dhivehi is the official language of the Maldives, spoken by about 400,000 people. It has its own unique script called Thaana, which is written from right to left. Thaana script is unique because it combines elements of Arabic numerals and indigenous characters. Dhivehi has been influenced by Arabic, English, Hindi, and Sinhalese. Common phrases: "Assalaamu alaikum" (Hello), "Shukuriyaa" (Thank you), "Haalu kihineh?" (How are you?).'
        };

        let currentUser = null;
        let chatHistory = JSON.parse(localStorage.getItem('ai_chat_history')) || [];

        // Initialize the app
        function initApp() {
            loadChatHistory();
            updateUserGreeting();
        }

        // Login function
        function login() {
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            if (email && password) {
                currentUser = { name: 'Knowledge Seeker', email: email };
                document.getElementById('loginScreen').style.display = 'none';
                document.getElementById('mainApp').style.display = 'block';
                document.getElementById('userGreeting').textContent = `Welcome, ${currentUser.name}`;
                initApp();
                saveData();
            } else {
                alert('Please enter email and password');
            }
        }

        // Logout function
        function logout() {
            currentUser = null;
            document.getElementById('mainApp').style.display = 'none';
            document.getElementById('loginScreen').style.display = 'flex';
            saveData();
        }

        // Tab switching
        function switchTab(tabName) {
            // Hide all tab contents
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Remove active class from all tabs
            document.querySelectorAll('.mobile-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            document.querySelectorAll('.nav-item').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected tab content
            document.getElementById(tabName).classList.add('active');
            
            // Add active class to clicked tab
            const clickedTab = event.currentTarget;
            clickedTab.classList.add('active');
            
            // Find and activate corresponding bottom nav item
            const navItems = document.querySelectorAll('.nav-item');
            const tabIndex = Array.from(document.querySelectorAll('.mobile-tab')).indexOf(clickedTab);
            if (tabIndex >= 0 && navItems[tabIndex]) {
                navItems[tabIndex].classList.add('active');
            }
        }

        // Ask question from knowledge cards
        function askQuestion(topic) {
            const questions = {
                'quran': 'What would you like to know about Quran and Islam?',
                'science': 'What science topic interests you? Physics, Biology, or Mathematics?',
                'coding': 'Which programming language would you like to learn? Python, Java, or something else?',
                'languages': 'Which language would you like to learn? Arabic, English, or Dhivehi?',
                'quran basics': 'The Quran is the holy book of Islam containing divine guidance. It has 114 chapters covering faith, morality, law, and wisdom for all humanity.',
                'islam pillars': 'The Five Pillars of Islam are: 1) Shahada (faith declaration), 2) Salah (prayer 5 times daily), 3) Zakat (charity), 4) Sawm (Ramadan fasting), 5) Hajj (pilgrimage to Mecca).',
                'science overview': 'Science includes Physics (matter/energy), Biology (living organisms), Chemistry (substances), and Mathematics (patterns/relationships). Each helps us understand the natural world.',
                'coding introduction': 'Programming involves writing code to solve problems. Start with Python for beginners, then learn algorithms, data structures, and build projects to practice.',
                'languages learning': 'Learning languages opens new cultures. Arabic for Quran understanding, English for global communication, Dhivehi for Maldivian culture. Practice daily for best results.'
            };
            
            const question = questions[topic] || `What would you like to know about ${topic}?`;
            addMessage('user', `Tell me about ${topic}`);
            setTimeout(() => {
                addMessage('ai', question);
            }, 500);
        }

        // Ask quick question
        function askQuickQuestion(question) {
            document.getElementById('userInput').value = question;
            sendMessage();
        }

        // Send message
        function sendMessage() {
            const userInput = document.getElementById('userInput');
            const message = userInput.value.trim();
            
            if (message) {
                addMessage('user', message);
                userInput.value = '';
                
                // Simulate AI thinking
                setTimeout(() => {
                    const aiResponse = generateAIResponse(message);
                    addMessage('ai', aiResponse);
                }, 1000);
            }
        }

        // Handle Enter key press
        function handleKeyPress(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }

        // Generate AI response
        function generateAIResponse(question) {
            const lowerQuestion = question.toLowerCase();
            
            // Check for exact matches in detailed responses
            for (const [key, response] of Object.entries(detailedResponses)) {
                if (lowerQuestion.includes(key)) {
                    return response;
                }
            }
            
            // Check for keyword matches in knowledge base
            for (const [keyword, answer] of Object.entries(knowledgeBase)) {
                if (lowerQuestion.includes(keyword)) {
                    return answer;
                }
            }
            
            // Default responses based on question type
            if (lowerQuestion.includes('python') || lowerQuestion.includes('programming') || lowerQuestion.includes('code')) {
                return 'Python is a great programming language for beginners! It has simple syntax and is used in web development, data science, AI, and automation. Would you like to learn specific Python concepts?';
            }
            
            if (lowerQuestion.includes('quran') || lowerQuestion.includes('islam') || lowerQuestion.includes('muslim')) {
                return 'The Quran is the holy book of Islam containing guidance for all humanity. It emphasizes monotheism, morality, and justice. Islam has Five Pillars that form the foundation of Muslim practice. What specific aspect interests you?';
            }
            
            if (lowerQuestion.includes('physics') || lowerQuestion.includes('biology') || lowerQuestion.includes('math')) {
                return 'Science helps us understand the natural world! Physics studies matter and energy, Biology studies living organisms, and Mathematics studies patterns and relationships. Which scientific field would you like to explore?';
            }
            
            if (lowerQuestion.includes('arabic') || lowerQuestion.includes('english') || lowerQuestion.includes('dhivehi') || lowerQuestion.includes('language')) {
                return 'Learning languages opens new opportunities! Arabic is the language of Quran, English is global communication, Dhivehi is the language of Maldives. Would you like to learn basic phrases or grammar?';
            }
            
            // General knowledge response
            return "I'm your AI knowledge assistant! I can help you learn about:\n\n• Quran & Islamic Studies\n• Science (Physics, Biology, Mathematics)\n• Programming (Python, Java, Coding)\n• Languages (Arabic, English, Dhivehi)\n• Technology & Computer Science\n\nWhat specific topic would you like to explore?";
        }

        // Add message to chat
        function addMessage(sender, content) {
            const chatContainer = document.getElementById('chatContainer');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}-message`;
            
            messageDiv.innerHTML = `
                <div class="message-sender">${sender === 'user' ? 'You' : 'AI Assistant'}</div>
                <div class="message-content">${content}</div>
            `;
            
            chatContainer.appendChild(messageDiv);
            chatContainer.scrollTop = chatContainer.scrollHeight;
            
            // Save to chat history
            chatHistory.push({ sender, content, timestamp: new Date() });
            if (chatHistory.length > 50) {
                chatHistory = chatHistory.slice(-50);
            }
            localStorage.setItem('ai_chat_history', JSON.stringify(chatHistory));
        }

        // Load chat history
        function loadChatHistory() {
            const chatContainer = document.getElementById('chatContainer');
            chatContainer.innerHTML = '';
            
            if (chatHistory.length === 0) {
                addMessage('ai', 'Assalamu Alaikum! I\'m your AI Knowledge Assistant. I can help you with Quran, Science, Coding, Languages, and many other topics. What would you like to learn today?');
                return;
            }
            
            chatHistory.forEach(msg => {
                const messageDiv = document.createElement('div');
                messageDiv.className = `message ${msg.sender}-message`;
                messageDiv.innerHTML = `
                    <div class="message-sender">${msg.sender === 'user' ? 'You' : 'AI Assistant'}</div>
                    <div class="message-content">${msg.content}</div>
                `;
                chatContainer.appendChild(messageDiv);
            });
            
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }

        // Clear chat
        function clearChat() {
            if (confirm('Are you sure you want to clear the chat history?')) {
                chatHistory = [];
                localStorage.removeItem('ai_chat_history');
                loadChatHistory();
            }
        }

        // Update user greeting
        function updateUserGreeting() {
            if (currentUser) {
                document.getElementById('userGreeting').textContent = `Welcome, ${currentUser.name}`;
            }
        }

        // Save data
        function saveData() {
            localStorage.setItem('ai_chat_history', JSON.stringify(chatHistory));
            if (currentUser) {
                localStorage.setItem('ai_current_user', JSON.stringify(currentUser));
            }
        }

        // Initialize on load
        window.addEventListener('load', () => {
            const savedUser = localStorage.getItem('ai_current_user');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                document.getElementById('loginScreen').style.display = 'none';
                document.getElementById('mainApp').style.display = 'block';
                initApp();
            }
        });
    </script>
</body>
</html>
