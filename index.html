<!DOCTYPE html>
<html>
<head>
    <title>Pro Crypto Auto-Invest</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: Arial; 
            background: #0a0a0a; 
            color: white; 
            padding: 10px;
            overflow-x: hidden;
        }
        
        /* Crypto Bubble Grid */
        .bubbles-container {
            position: relative;
            height: 65vh;
            overflow: hidden;
            margin-bottom: 15px;
            border: 2px solid #1a1a2e;
            border-radius: 20px;
            background: linear-gradient(135deg, #0a0a0a, #1a1a2e);
        }
        
        .coin-bubble {
            position: absolute;
            border-radius: 50%;
            background: linear-gradient(135deg, #1a1a2e, #16213e);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            box-shadow: 0 4px 15px rgba(0, 255, 136, 0.2);
            animation: float 6s infinite ease-in-out;
            text-align: center;
            flex-direction: column;
            overflow: hidden;
        }
        
        .coin-bubble:hover {
            transform: scale(1.15);
            border-color: #00ff88;
            box-shadow: 0 8px 25px rgba(0, 255, 136, 0.4);
            z-index: 100;
        }
        
        .bubble-xlarge { width: 140px; height: 140px; }
        .bubble-large { width: 110px; height: 110px; }
        .bubble-medium { width: 90px; height: 90px; }
        .bubble-small { width: 70px; height: 70px; }
        
        .volume-pulse {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            position: absolute;
            top: 8px;
            right: 8px;
            animation: pulse 2s infinite;
        }
        .volume-high { background: #00ff88; }
        .volume-medium { background: #ffaa00; }
        .volume-low { background: #ff4444; }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg) scale(1); }
            25% { transform: translateY(-15px) rotate(1deg) scale(1.02); }
            50% { transform: translateY(-8px) rotate(-1deg) scale(1.01); }
            75% { transform: translateY(-12px) rotate(0.5deg) scale(1.015); }
        }
        
        @keyframes pulse {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.3); opacity: 0.7; }
            100% { transform: scale(1); opacity: 1; }
        }
        
        /* Trading Panel */
        .trade-panel {
            background: rgba(26, 26, 46, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 25px;
            margin: 10px 0;
            display: none;
            border: 1px solid #00ff88;
            box-shadow: 0 10px 30px rgba(0, 255, 136, 0.2);
        }
        
        .param-bubble {
            background: #2d2d44;
            border: none;
            color: white;
            padding: 15px 10px;
            border-radius: 15px;
            cursor: pointer;
            text-align: center;
            margin: 5px;
            transition: all 0.2s ease;
            flex: 1;
        }
        
        .param-bubble.selected {
            background: #00ff88;
            color: black;
            font-weight: bold;
            transform: scale(1.05);
        }
        
        .bubble-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin: 15px 0;
        }
        
        .btn-bubble {
            background: #00ff88;
            color: black;
            border: none;
            padding: 18px;
            border-radius: 15px;
            font-weight: bold;
            width: 100%;
            margin: 10px 0;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
        }
        
        /* Stats Dashboard */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin: 15px 0;
        }
        
        .stat-card {
            background: #1a1a2e;
            padding: 15px;
            border-radius: 12px;
            text-align: center;
            border: 1px solid #2d2d44;
        }
        
        .stat-value {
            font-size: 18px;
            font-weight: bold;
            color: #00ff88;
            margin: 5px 0;
        }
        
        .stat-label {
            font-size: 12px;
            color: #888;
        }
        
        /* Tabs */
        .tabs {
            display: flex;
            background: #1a1a2e;
            border-radius: 12px;
            padding: 5px;
            margin: 15px 0;
        }
        
        .tab {
            flex: 1;
            padding: 12px;
            text-align: center;
            cursor: pointer;
            border-radius: 8px;
            transition: all 0.3s ease;
        }
        
        .tab.active {
            background: #00ff88;
            color: black;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header with Stats -->
        <div style="text-align: center; margin-bottom: 15px;">
            <h1>ü™ô Pro Crypto Auto-Invest</h1>
            <p>Tap bubbles ‚Ä¢ Auto-invest ‚Ä¢ Track profits</p>
        </div>

        <!-- Quick Stats Dashboard -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-label">Total Invested</div>
                <div class="stat-value" id="totalInvested">$0</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Current Value</div>
                <div class="stat-value" id="currentValue">$0</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Daily Profit</div>
                <div class="stat-value" id="dailyProfit">+$0</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Monthly Profit</div>
                <div class="stat-value" id="monthlyProfit">+$0</div>
            </div>
        </div>

        <!-- Tabs for Coin Selection -->
        <div class="tabs">
            <div class="tab active" onclick="switchTab('top10')">Top 10</div>
            <div class="tab" onclick="switchTab('top20')">Top 20</div>
            <div class="tab" onclick="switchTab('top50')">Top 50</div>
            <div class="tab" onclick="switchTab('top100')">Top 100</div>
        </div>

        <!-- Crypto Bubbles Grid -->
        <div class="bubbles-container" id="bubblesContainer">
            <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: #888;">
                Loading coins...
            </div>
        </div>

        <!-- Trading Panel -->
        <div class="trade-panel" id="tradePanel">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <h3 id="selectedCoin">Select a Coin</h3>
                <div style="color: #00ff88; font-size: 14px;" id="currentPrice">$0.00</div>
            </div>

            <!-- Frequency -->
            <h4>üïê Investment Frequency</h4>
            <div class="bubble-grid">
                <div class="param-bubble" data-param="frequency" data-value="1h">1H</div>
                <div class="param-bubble" data-param="frequency" data-value="4h">4H</div>
                <div class="param-bubble" data-param="frequency" data-value="1d">Daily</div>
                <div class="param-bubble" data-param="frequency" data-value="1w">Weekly</div>
            </div>

            <!-- Amount -->
            <h4>üí∞ Amount per Investment</h4>
            <div class="bubble-grid">
                <div class="param-bubble" data-param="amount" data-value="1">$1</div>
                <div class="param-bubble" data-param="amount" data-value="5">$5</div>
                <div class="param-bubble" data-param="amount" data-value="10">$10</div>
                <div class="param-bubble" data-param="amount" data-value="25">$25</div>
                <div class="param-bubble" data-param="amount" data-value="50">$50</div>
                <div class="param-bubble" data-param="amount" data-value="100">$100</div>
            </div>

            <!-- Strategy -->
            <h4>üéØ Trading Strategy</h4>
            <div class="bubble-grid">
                <div class="param-bubble" data-param="strategy" data-value="dca">DCA</div>
                <div class="param-bubble" data-param="strategy" data-value="tp">Take Profit</div>
                <div class="param-bubble" data-param="strategy" data-value="grid">Grid Bot</div>
            </div>

            <!-- Action Buttons -->
            <button class="btn-bubble" onclick="startAutoInvest()">
                üöÄ START AUTO-INVEST
            </button>
            <button class="btn-bubble" style="background: #ff4444;" onclick="closePanel()">
                ‚úñÔ∏è CANCEL
            </button>
        </div>

        <!-- Active Bots -->
        <div style="background: #1a1a2e; padding: 20px; border-radius: 15px; margin: 10px 0;">
            <h3>ü§ñ Active Auto-Invests</h3>
            <div id="activeBotsList">
                <p style="text-align: center; color: #888; padding: 20px;">
                    No active auto-invests yet<br>
                    <small>Tap a bubble above to start</small>
                </p>
            </div>
        </div>
    </div>

    <script>
        // Simple working crypto data - NO ERRORS
        const cryptoData = {
            top10: [
                { symbol: 'BTC', name: 'Bitcoin', price: '45,231.50', change: 2.34, volume: 28000000000 },
                { symbol: 'ETH', name: 'Ethereum', price: '2,456.78', change: 1.56, volume: 12000000000 },
                { symbol: 'BNB', name: 'Binance Coin', price: '312.89', change: -0.23, volume: 800000000 },
                { symbol: 'SOL', name: 'Solana', price: '102.45', change: 5.67, volume: 2500000000 },
                { symbol: 'XRP', name: 'Ripple', price: '0.6234', change: 0.89, volume: 1500000000 },
                { symbol: 'ADA', name: 'Cardano', price: '0.5123', change: -1.23, volume: 500000000 },
                { symbol: 'AVAX', name: 'Avalanche', price: '34.56', change: 4.32, volume: 600000000 },
                { symbol: 'DOT', name: 'Polkadot', price: '7.89', change: 3.45, volume: 400000000 },
                { symbol: 'DOGE', name: 'Dogecoin', price: '0.0987', change: 2.11, volume: 800000000 },
                { symbol: 'MATIC', name: 'Polygon', price: '0.8234', change: 1.23, volume: 300000000 }
            ],
            top20: [
                { symbol: 'LTC', name: 'Litecoin', price: '68.90', change: 0.45, volume: 400000000 },
                { symbol: 'LINK', name: 'Chainlink', price: '14.56', change: -2.34, volume: 350000000 },
                { symbol: 'ATOM', name: 'Cosmos', price: '9.87', change: 3.21, volume: 200000000 },
                { symbol: 'XLM', name: 'Stellar', price: '0.1256', change: 1.78, volume: 180000000 },
                { symbol: 'BCH', name: 'Bitcoin Cash', price: '245.67', change: -1.23, volume: 220000000 },
                { symbol: 'ETC', name: 'Ethereum Classic', price: '23.45', change: 0.67, volume: 150000000 },
                { symbol: 'XMR', name: 'Monero', price: '165.43', change: 2.89, volume: 120000000 },
                { symbol: 'FIL', name: 'Filecoin', price: '5.67', change: -3.45, volume: 90000000 },
                { symbol: 'ALGO', name: 'Algorand', price: '0.2345', change: 1.23, volume: 80000000 },
                { symbol: 'EOS', name: 'EOS', price: '0.7567', change: -0.89, volume: 110000000 }
            ],
            top50: [
                { symbol: 'NEAR', name: 'Near Protocol', price: '3.45', change: 4.56, volume: 70000000 },
                { symbol: 'VET', name: 'VeChain', price: '0.0345', change: 2.34, volume: 60000000 },
                { symbol: 'ICP', name: 'Internet Computer', price: '12.34', change: -1.23, volume: 50000000 },
                { symbol: 'XTZ', name: 'Tezos', price: '1.234', change: 0.67, volume: 40000000 },
                { symbol: 'AAVE', name: 'Aave', price: '89.12', change: 3.45, volume: 80000000 },
                { symbol: 'MKR', name: 'Maker', price: '1,234.56', change: -2.34, volume: 45000000 },
                { symbol: 'SUSHI', name: 'SushiSwap', price: '1.567', change: 1.23, volume: 30000000 },
                { symbol: 'COMP', name: 'Compound', price: '56.78', change: -0.89, volume: 35000000 },
                { symbol: 'YFI', name: 'Yearn Finance', price: '8,765.43', change: 2.34, volume: 25000000 },
                { symbol: 'SNX', name: 'Synthetix', price: '3.456', change: -1.23, volume: 20000000 }
            ],
            top100: [
                { symbol: 'KSM', name: 'Kusama', price: '34.56', change: 2.34, volume: 15000000 },
                { symbol: 'WAVES', name: 'Waves', price: '2.345', change: -1.23, volume: 12000000 },
                { symbol: 'OMG', name: 'OMG Network', price: '0.6789', change: 0.45, volume: 10000000 },
                { symbol: 'IOTA', name: 'IOTA', price: '0.2345', change: 1.23, volume: 9000000 },
                { symbol: 'ZIL', name: 'Zilliqa', price: '0.0234', change: -0.56, volume: 8000000 },
                { symbol: 'ONE', name: 'Harmony', price: '0.0156', change: 2.34, volume: 7000000 },
                { symbol: 'CELO', name: 'Celo', price: '0.789', change: -1.23, volume: 6000000 }
            ]
        };

        let currentTab = 'top10';
        let currentSelection = {
            coin: null,
            frequency: null,
            amount: null,
            strategy: 'dca'
        };

        // Initialize the app
        function initializeApp() {
            loadBubbles(currentTab);
            startLiveUpdates();
        }

        // Load bubbles for the selected tab
        function loadBubbles(tab) {
            const container = document.getElementById('bubblesContainer');
            const coins = cryptoData[tab];
            
            container.innerHTML = '';
            
            coins.forEach((coin, index) => {
                const bubble = document.createElement('div');
                
                // Set bubble size based on volume
                let bubbleSize = 'bubble-medium';
                if (coin.volume > 10000000000) bubbleSize = 'bubble-xlarge';
                else if (coin.volume > 1000000000) bubbleSize = 'bubble-large';
                else if (coin.volume < 50000000) bubbleSize = 'bubble-small';
                
                // Set volume indicator color
                let volumeClass = 'volume-medium';
                if (coin.volume > 5000000000) volumeClass = 'volume-high';
                else if (coin.volume < 100000000) volumeClass = 'volume-low';
                
                // Calculate position (simple grid)
                const row = Math.floor(index / 3);
                const col = index % 3;
                const x = 15 + (col * 30);
                const y = 15 + (row * 25);
                
                bubble.className = `coin-bubble ${bubbleSize}`;
                bubble.style.left = `${x}%`;
                bubble.style.top = `${y}%`;
                bubble.style.animationDelay = `${index * 0.2}s`;
                
                bubble.innerHTML = `
                    <div class="volume-pulse ${volumeClass}"></div>
                    <div style="font-weight: bold; font-size: 16px; margin-bottom: 5px;">
                        ${coin.symbol}
                    </div>
                    <div style="font-size: 12px; color: #00ff88;">
                        $${coin.price}
                    </div>
                    <div style="font-size: 10px; color: ${coin.change >= 0 ? '#00ff88' : '#ff4444'}; margin-top: 2px;">
                        ${coin.change >= 0 ? '‚Üó' : '‚Üò'} ${Math.abs(coin.change)}%
                    </div>
                `;
                
                bubble.addEventListener('click', () => selectCoin(coin));
                container.appendChild(bubble);
            });
        }

        // Switch between tabs
        function switchTab(tab) {
            currentTab = tab;
            
            // Update active tab
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            event.target.classList.add('active');
            
            // Load bubbles for the selected tab
            loadBubbles(tab);
        }

        // Select a coin
        function selectCoin(coin) {
            currentSelection.coin = coin;
            
            document.getElementById('selectedCoin').textContent = `${coin.symbol}/USDT`;
            document.getElementById('currentPrice').textContent = `$${coin.price}`;
            document.getElementById('tradePanel').style.display = 'block';
            
            // Scroll to panel
            document.getElementById('tradePanel').scrollIntoView({ 
                behavior: 'smooth'
            });
        }

        // Start auto-invest
        function startAutoInvest() {
            if (!currentSelection.coin) {
                alert('Please select a coin first');
                return;
            }
            if (!currentSelection.frequency) {
                alert('Please select frequency');
                return;
            }
            if (!currentSelection.amount) {
                alert('Please select amount');
                return;
            }

            const botConfig = {
                id: Date.now(),
                coin: currentSelection.coin.symbol,
                frequency: currentSelection.frequency,
                amount: currentSelection.amount,
                strategy: currentSelection.strategy,
                status: 'active',
                createdAt: new Date().toLocaleString()
            };
            
            // Save to localStorage
            let bots = JSON.parse(localStorage.getItem('activeBots') || '[]');
            bots.push(botConfig);
            localStorage.setItem('activeBots', JSON.stringify(bots));
            
            alert(`‚úÖ ${botConfig.coin} Auto-Invest Started!\n$${botConfig.amount} every ${botConfig.frequency}`);
            
            closePanel();
            updateActiveBotsList();
        }

        // Close trading panel
        function closePanel() {
            document.getElementById('tradePanel').style.display = 'none';
            currentSelection.coin = null;
        }

        // Update active bots list
        function updateActiveBotsList() {
            const bots = JSON.parse(localStorage.getItem('activeBots') || '[]');
            const container = document.getElementById('activeBotsList');
            
            if (bots.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: #888; padding: 20px;">No active auto-invests yet<br><small>Tap a bubble above to start</small></p>';
                return;
            }
            
            container.innerHTML = bots.map(bot => `
                <div style="background: #2d2d44; padding: 15px; border-radius: 12px; margin: 10px 0; border-left: 4px solid #00ff88;">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div>
                            <strong style="font-size: 16px;">${bot.coin}</strong>
                            <div style="font-size: 12px; color: #888;">
                                $${bot.amount} ‚Ä¢ Every ${bot.frequency}
                            </div>
                        </div>
                        <span style="color: #00ff88; font-size: 12px;">${bot.status}</span>
                    </div>
                </div>
            `).join('');
        }

        // Parameter selection
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('param-bubble')) {
                const param = e.target.getAttribute('data-param');
                const value = e.target.getAttribute('data-value');
                
                // Remove selected class from all buttons in same group
                const parent = e.target.parentElement;
                const siblings = parent.querySelectorAll('.param-bubble');
                siblings.forEach(btn => btn.classList.remove('selected'));
                
                // Add selected class to clicked button
                e.target.classList.add('selected');
                currentSelection[param] = value;
            }
        });

        // Simulate live price updates
        function startLiveUpdates() {
            setInterval(() => {
                // Update stats with random data
                document.getElementById('totalInvested').textContent = '$1,250.00';
                document.getElementById('currentValue').textContent = '$1,345.67';
                document.getElementById('dailyProfit').textContent = '+$23.45';
                document.getElementById('monthlyProfit').textContent = '+$156.78';
            }, 5000);
        }

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
            updateActiveBotsList();
        });

    </script>
</body>
</html>
